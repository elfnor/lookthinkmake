<!doctype html>
<html lang="">	
<head>
	<meta charset="utf-8"/>
	<title>Structure Synth eisenscript to xml translator - Look Think Make</title>	
	<meta name="author" content="elfnor">
	

	<meta name="description" content="I've been working on some code to automatically translate the original eisenscript files used by Struture Synth into the eisenxml used by the Generative Art node in the Sverchok addon for Blender. Its not complete but I've uploaded the work so far to github. Its written using pyparsing. This is …">


	<link rel="top" href="#" /><link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Code+Pro' rel='stylesheet' type='text/css'></link>
	<link href='http://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Rock+Salt' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="http://www.elfnor.com/theme/css/main.css" type="text/css" />
		

    <link href="http://www.elfnor.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Look Think Make Atom Feed" />
</head>
	
<body>

    <div class="container">
	  
	  <header role="banner">
	    <div class="feeds">
	        <a href="http://www.elfnor.com/feeds/all.atom.xml" rel="alternate"><img src="/theme/images/icons/feed-32px.png" alt="atom feed"/></a>
	    </div>
	      <nav class="pages">
			  <a href="http://www.elfnor.com/pages/about-me.html">About Me</a>
-			  <a href="http://www.elfnor.com/pages/galleries.html">Galleries</a>
	      </nav>
		<a href="http://www.elfnor.com" class="title">Look Think Make</a>
      </header>
	
	  <div class="wrapper">

		  <div role="main" class="content">
	<article class="full">
			
		<h1>Structure Synth eisenscript to xml translator</h1>
		
<div class="metadata">
  <time datetime="2016-05-29T22:00:00+12:00" pubdate>Sun 29 May 2016</time>
    <address class="vcard author">
      by <a class="url fn" href="http://www.elfnor.com/author/elfnor.html">elfnor</a>
    </address>
  in <a href="http://www.elfnor.com/category/think.html">think</a>
<p class="tags">tagged <a href="http://www.elfnor.com/tag/make.html">make</a>, <a href="http://www.elfnor.com/tag/think.html">think</a>, <a href="http://www.elfnor.com/tag/blender.html">blender</a>, <a href="http://www.elfnor.com/tag/sverchok.html">sverchok</a>, <a href="http://www.elfnor.com/tag/structure-synth.html">structure synth</a>, <a href="http://www.elfnor.com/tag/generative-art.html">generative art</a></p></div>		
		<p><img alt="medusas" src="/images/medusa_spiked_01_016.png" /></p>
<p>I've been working on some code to automatically translate the original <em>eisenscript</em> files used by <a href="http://structuresynth.sourceforge.net/">Struture Synth</a> into the <em>eisenxml</em> used by the <a href="http://www.elfnor.com/generative-art-sverchok-node-update.html">Generative Art node</a> in the <a href="https://github.com/nortikin/sverchok">Sverchok</a> addon for <a href="https://www.blender.org/">Blender</a>.</p>
<p>Its not complete but I've uploaded the work so far to <a href="https://github.com/elfnor/generative-art-examples/blob/master/eisenscript_to_xml.py">github</a>. Its written using <a href="http://pyparsing.wikispaces.com/">pyparsing</a>. This is my first serious attempt at using pyparsing. I was impressed with how far I could get with this project so quickly. My code is pretty ugly and could still do with some serious refactoring work, but it translates all the examples provided with Structure Synth with the exception of those using preprocessor (#define) commands.</p>
<p>After writing most of the pyparsing grammar based on the Structure Synth reference <a href="http://structuresynth.sourceforge.net/reference.php">page</a> I found the basics of <a href="https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form">EBNF notation</a> used for eisenscript in the <a href="https://sourceforge.net/p/structuresynth/code/HEAD/tree/trunk/notes.txt#l48">source files</a>.</p>
<p>The translator completely ignores any eisenscript commands to do with color, setting the camera or the ray tracer as those are better dealt with in Blender outside Sverchok. </p>
<p>I haven't translated the preprocessor commands (#define). These commands are similar to the way I've used constants and variables in the Sverchok node but different enough to be a bit harder to implement in the translator. </p>
<p>So far its translating most things I've thrown at it and the geometry in Blender looks mostly equivalent to the original Structure Synth geometry. It hasn't been systematically tested and there's bound to be valid eisenscript in can't translate properly. As is where is.</p>
<p>To use the <a href="https://github.com/elfnor/generative-art-examples/blob/master/eisenscript_to_xml.py">translator</a>:</p>
<div class="codehilite"><pre><span></span>$ python eisenscript_to_xml.py /path/to/file/totranslate.es
</pre></div>


<p>will produce a file <code>/path/to/file/totranslate.es.xml</code></p>
<p>Here's the original eisenscript and translated eisenxml for one of the creatures above.</p>
<p><img alt="ss_medusa" src="/images/ss_medusa.png" /></p>
<div class="codehilite"><pre><span></span>set md 25

{ry 90 hue 35 sat 0.5} body

rule body {
20 * {rx 18} segment
}

rule segment md 12 &gt; arc1 {
box
{z 1 ry 10 s 1.2} segment
}

rule arc1 {
{s 0.6   x -7 z 11} arc
}

rule arc {
5 * {ry 10 } subarc
}

rule subarc {
{x 15} spike
}

rule spike  w 5 {
10 * {z 0.9 ry 5 s 0.9} sphere
}

rule spike w 5 {
10 * {z 0.9 ry -5 s 0.9} sphere
}

rule spike w 1 {
10 * {z 0.9 ry 10 s 0.9} sphere
}

rule spike w 1 {
10 * {z 0.9 ry -10 s 0.9} sphere
}
</pre></div>


<p><img alt="ga_medusa" src="/images/ga_medusa.png" /></p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>
<span class="nt">&lt;rules</span> <span class="na">max_depth=</span><span class="s">&quot;25&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;entry&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">rule=</span><span class="s">&quot;body&quot;</span> <span class="na">transforms=</span><span class="s">&quot;ry 90&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;body&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">count=</span><span class="s">&quot;20&quot;</span> <span class="na">rule=</span><span class="s">&quot;segment&quot;</span> <span class="na">transforms=</span><span class="s">&quot;rx 18&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">max_depth=</span><span class="s">&quot;12&quot;</span> <span class="na">name=</span><span class="s">&quot;segment&quot;</span> <span class="na">successor=</span><span class="s">&quot;arc1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">shape=</span><span class="s">&quot;box&quot;</span> <span class="na">transforms=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">rule=</span><span class="s">&quot;segment&quot;</span> <span class="na">transforms=</span><span class="s">&quot;tz 1 ry 10 sa 1.2&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;arc1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">rule=</span><span class="s">&quot;arc&quot;</span> <span class="na">transforms=</span><span class="s">&quot;sa 0.6 tx -7 tz 11&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;arc&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">count=</span><span class="s">&quot;5&quot;</span> <span class="na">rule=</span><span class="s">&quot;subarc&quot;</span> <span class="na">transforms=</span><span class="s">&quot;ry 10&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;subarc&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">rule=</span><span class="s">&quot;spike&quot;</span> <span class="na">transforms=</span><span class="s">&quot;tx 15&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;spike&quot;</span> <span class="na">weight=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">count=</span><span class="s">&quot;10&quot;</span> <span class="na">shape=</span><span class="s">&quot;sphere&quot;</span> <span class="na">transforms=</span><span class="s">&quot;tz 0.9 ry 5 sa 0.9&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;spike&quot;</span> <span class="na">weight=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">count=</span><span class="s">&quot;10&quot;</span> <span class="na">shape=</span><span class="s">&quot;sphere&quot;</span> <span class="na">transforms=</span><span class="s">&quot;tz 0.9 ry -5 sa 0.9&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;spike&quot;</span> <span class="na">weight=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">count=</span><span class="s">&quot;10&quot;</span> <span class="na">shape=</span><span class="s">&quot;sphere&quot;</span> <span class="na">transforms=</span><span class="s">&quot;tz 0.9 ry 10 sa 0.9&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
  <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;spike&quot;</span> <span class="na">weight=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">count=</span><span class="s">&quot;10&quot;</span> <span class="na">shape=</span><span class="s">&quot;sphere&quot;</span> <span class="na">transforms=</span><span class="s">&quot;tz 0.9 ry -10 sa 0.9&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;/rules&gt;</span>
</pre></div>


<p>Feel free to post links in the comments to any eisenscript files that break the translator and I'll (probably) have a look at them.</p>	

	</article>

	<div class="comments">
	<h2>Comments !</h2>
	    <div id="disqus_thread"></div>
	    <script type="text/javascript">
	       var disqus_identifier = "structure-synth-eisenscript-to-xml-translator.html";
	       (function() {
	       var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	       dsq.src = 'http://lookthinkmake.disqus.com/embed.js';
	       (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	      })();
	    </script>
	</div>

		  </div>	
		  
		  <div class="sidebar">

	        <nav>
		  <h2>Recent Posts</h2>
			<ul class="archive">
	
			      <li>
<a href="http://www.elfnor.com/literary-voyage-reading-challenge-for-2018.html" rel="bookmark" title="Permalink to Literary Voyage Reading Challenge for 2018">Literary Voyage Reading Challenge for 2018</a>
  <time datetime="2018-02-16T22:00:00+13:00" pubdate>Fri 16 February 2018</time>
<p class="tags">tags: <a href="http://www.elfnor.com/tag/reading.html">reading  </a></p></a>      			      </li>
		
	
			      <li>
<a href="http://www.elfnor.com/conway-polyhedron-operators-in-sverchok.html" rel="bookmark" title="Permalink to Conway Polyhedron Operators in Sverchok">Conway Polyhedron Operators in Sverchok</a>
  <time datetime="2017-12-18T22:00:00+13:00" pubdate>Mon 18 December 2017</time>
<p class="tags">tags: <a href="http://www.elfnor.com/tag/make.html">make  </a><a href="http://www.elfnor.com/tag/think.html">think  </a><a href="http://www.elfnor.com/tag/blender.html">blender  </a><a href="http://www.elfnor.com/tag/sverchok.html">sverchok  </a></p></a>      			      </li>
		
	
			      <li>
<a href="http://www.elfnor.com/mesh-maze-blender-add-on.html" rel="bookmark" title="Permalink to Mesh Maze Blender Add-On">Mesh Maze Blender Add-On</a>
  <time datetime="2017-06-25T22:00:00+12:00" pubdate>Sun 25 June 2017</time>
<p class="tags">tags: <a href="http://www.elfnor.com/tag/make.html">make  </a><a href="http://www.elfnor.com/tag/think.html">think  </a><a href="http://www.elfnor.com/tag/blender.html">blender  </a><a href="http://www.elfnor.com/tag/maze.html">maze  </a></p></a>      			      </li>
		
	
			      <li>
<a href="http://www.elfnor.com/blender-shape-keys-cookbook.html" rel="bookmark" title="Permalink to Blender Shape Keys Cookbook">Blender Shape Keys Cookbook</a>
  <time datetime="2017-03-12T22:00:00+13:00" pubdate>Sun 12 March 2017</time>
<p class="tags">tags: <a href="http://www.elfnor.com/tag/make.html">make  </a><a href="http://www.elfnor.com/tag/blender.html">blender  </a><a href="http://www.elfnor.com/tag/think.html">think  </a></p></a>      			      </li>
		
	
			      <li>
<a href="http://www.elfnor.com/shape-shifting-creatures.html" rel="bookmark" title="Permalink to Shape Shifting Creatures">Shape Shifting Creatures</a>
  <time datetime="2017-03-05T22:00:00+13:00" pubdate>Sun 05 March 2017</time>
<p class="tags">tags: <a href="http://www.elfnor.com/tag/make.html">make  </a><a href="http://www.elfnor.com/tag/blender.html">blender  </a><a href="http://www.elfnor.com/tag/think.html">think  </a></p></a>      			      </li>
		
	
			      <li>
<a href="http://www.elfnor.com/sugar-free-fermented-marmalade.html" rel="bookmark" title="Permalink to Sugar-Free Fermented Marmalade">Sugar-Free Fermented Marmalade</a>
  <time datetime="2017-01-29T22:00:00+13:00" pubdate>Sun 29 January 2017</time>
<p class="tags">tags: <a href="http://www.elfnor.com/tag/make.html">make  </a><a href="http://www.elfnor.com/tag/food.html">food  </a></p></a>      			      </li>
		
	
			      <li>
<a href="http://www.elfnor.com/preserved-lemons.html" rel="bookmark" title="Permalink to Preserved Lemons">Preserved Lemons</a>
  <time datetime="2017-01-13T22:00:00+13:00" pubdate>Fri 13 January 2017</time>
<p class="tags">tags: <a href="http://www.elfnor.com/tag/make.html">make  </a><a href="http://www.elfnor.com/tag/food.html">food  </a></p></a>      			      </li>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	
                        </u1>
		
		</nav>

	          <h2>Categories</h2>
	          <ul class = "social">
		      <li> <a href="http://www.elfnor.com/archives.html">everything </a></li>	
	              <li ><a href="http://www.elfnor.com/category/food.html">food</a></li>
	              <li ><a href="http://www.elfnor.com/category/look.html">look</a></li>
	              <li ><a href="http://www.elfnor.com/category/make.html">make</a></li>
	              <li class="active"><a href="http://www.elfnor.com/category/think.html">think</a></li>
	          </ul>
	        

	          <aside>
	          <h2>Elsewhere</h2>
			    <ul class="social">
				  <li><a href="http://elfnor.deviantart.com">on deviant art</a><i></i></li>
				  <li><a href="http://www.thingiverse.com/elfnor">on thingiverse</a><i></i></li>
				  <li><a href="https://github.com/elfnor">on github</a><i></i></li>
			    </ul>
			  </aside>
                
                <h2>Tags</h2>
	
                        <ul class="tagcloud">
                            <li class="tag-2"><a href="http://www.elfnor.com/tag/symmetrytile.html">symmetrytile</a></li>
                            <li class="tag-2"><a href="http://www.elfnor.com/tag/reading.html">reading</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/micropython.html">micropython</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/python.html">python</a></li>
                            <li class="tag-2"><a href="http://www.elfnor.com/tag/maze.html">maze</a></li>
                            <li class="tag-4"><a href="http://www.elfnor.com/tag/nonsense.html">nonsense</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/pelican.html">pelican</a></li>
                            <li class="tag-2"><a href="http://www.elfnor.com/tag/structuresynth.html">structuresynth</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/copy2.html">copy2</a></li>
                            <li class="tag-4"><a href="http://www.elfnor.com/tag/webalbum.html">webalbum</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/geocaching.html">geocaching</a></li>
                            <li class="tag-4"><a href="http://www.elfnor.com/tag/structure-synth.html">structure synth</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/materials.html">materials</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/3d-printing.html">3D Printing</a></li>
                            <li class="tag-1"><a href="http://www.elfnor.com/tag/blender.html">blender</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/food.html">food</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/ebook.html">ebook</a></li>
                            <li class="tag-4"><a href="http://www.elfnor.com/tag/kites.html">kites</a></li>
                            <li class="tag-4"><a href="http://www.elfnor.com/tag/photo.html">photo</a></li>
                            <li class="tag-4"><a href="http://www.elfnor.com/tag/processing.html">processing</a></li>
                            <li class="tag-4"><a href="http://www.elfnor.com/tag/astro.html">astro</a></li>
                            <li class="tag-1"><a href="http://www.elfnor.com/tag/sverchok.html">sverchok</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/cats.html">cats</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/generative-art.html">generative art</a></li>
                            <li class="tag-1"><a href="http://www.elfnor.com/tag/think.html">think</a></li>
                            <li class="tag-1"><a href="http://www.elfnor.com/tag/make.html">make</a></li>
                            <li class="tag-3"><a href="http://www.elfnor.com/tag/markdown.html">markdown</a></li>
                        </ul>
                      
		
		  </div>

	  </div>

      <footer>
		<p role="contentinfo">
		  © 2013 elfnor - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-simplegrey"> pelican-simplegrey</a>, modified.
    	</p>

	  </footer>	

	</div>
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=9900594; 
var sc_invisible=1; 
var sc_security="efb2c43c"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="free hit
counter" href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="http://c.statcounter.com/9900594/0/efb2c43c/1/"
alt="free hit counter"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>