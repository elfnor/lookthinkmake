<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Generative Art - Sverchok Node Update</title>
  <meta name='description' content='elfnor's blog'>

  <link rel="canonical" href="/2016/02/28/generative_art_docs/">
  <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Rock+Salt:400" rel="stylesheet">
  <!-- Ionicons -->
  <link href="https://unpkg.com/ionicons@4.2.2/dist/css/ionicons.min.css" rel="stylesheet">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">




  <style>
    body {
  background-image: url(/images/old_mathematics.png);
}
  
  .text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.vertical-center{display:flex;align-items:center;justify-content:center}.show{display:block}.hide{display:none}.invisible{visibility:hidden}.float-left{float:left}.float-right{float:right}.no-padding{padding:0}.no-margin{margin:0}.list-reset{list-style-type:none;margin:0;padding:0}.clearfix::after,.clearfix ::before{content:"";display:table;clear:both}.screen-reader-text{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}body,h1,h2,h3,h4,h5,h6,p,blockquote,pre,dl,dd,ol,ul,fieldset,legend,figure,hr{margin:0;padding:0}li>ul,li>ol{margin-bottom:0}table{border-collapse:collapse;border-spacing:0}h1,h2,h3,h4,h5,h6,ul,ol,dl,blockquote,p,address,hr,table,fieldset,figure,pre{margin-bottom:20px}ul,ol,dd{margin-left:20px}.highlight{background:#f8f8f8}.highlighter-rouge .highlight{background:#eef}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:teal}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:teal}.highlight .ni{color:purple}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .nv{color:teal}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:teal}.highlight .vg{color:teal}.highlight .vi{color:teal}.highlight .il{color:#099}.container{max-width:1200px;padding-left:20px;padding-right:20px;margin:0 auto}.container-full{max-width:100%;padding-left:20px;padding-right:20px;margin:0 auto}.row{display:flex;flex-wrap:wrap;flex:0 1 auto;flex-direction:row;box-sizing:border-box;margin-left:-20px;margin-right:-20px}.col{padding-left:20px;padding-right:20px}[class^="col-"]{flex:auto}.col-0{width:0%}.col-1{width:8.3333333333%}.col-2{width:16.6666666667%}.col-3{width:25%}.col-4{width:33.3333333333%}.col-5{width:41.6666666667%}.col-6{width:50%}.col-7{width:58.3333333333%}.col-8{width:66.6666666667%}.col-9{width:75%}.col-10{width:83.3333333333%}.col-11{width:91.6666666667%}.col-12{width:100%}.push-0{margin-left:0%}.push-1{margin-left:8.3333333333%}.push-2{margin-left:16.6666666667%}.push-3{margin-left:25%}.push-4{margin-left:33.3333333333%}.push-5{margin-left:41.6666666667%}.push-6{margin-left:50%}.push-7{margin-left:58.3333333333%}.push-8{margin-left:66.6666666667%}.push-9{margin-left:75%}.push-10{margin-left:83.3333333333%}.push-11{margin-left:91.6666666667%}.push-12{margin-left:100%}.pull-0{margin-right:0%}.pull-1{margin-right:8.3333333333%}.pull-2{margin-right:16.6666666667%}.pull-3{margin-right:25%}.pull-4{margin-right:33.3333333333%}.pull-5{margin-right:41.6666666667%}.pull-6{margin-right:50%}.pull-7{margin-right:58.3333333333%}.pull-8{margin-right:66.6666666667%}.pull-9{margin-right:75%}.pull-10{margin-right:83.3333333333%}.pull-11{margin-right:91.6666666667%}.pull-12{margin-right:100%}@media (max-width: 992px){.col-d-0{width:0%}.col-d-1{width:8.3333333333%}.col-d-2{width:16.6666666667%}.col-d-3{width:25%}.col-d-4{width:33.3333333333%}.col-d-5{width:41.6666666667%}.col-d-6{width:50%}.col-d-7{width:58.3333333333%}.col-d-8{width:66.6666666667%}.col-d-9{width:75%}.col-d-10{width:83.3333333333%}.col-d-11{width:91.6666666667%}.col-d-12{width:100%}.push-d-0{margin-left:0%}.push-d-1{margin-left:8.3333333333%}.push-d-2{margin-left:16.6666666667%}.push-d-3{margin-left:25%}.push-d-4{margin-left:33.3333333333%}.push-d-5{margin-left:41.6666666667%}.push-d-6{margin-left:50%}.push-d-7{margin-left:58.3333333333%}.push-d-8{margin-left:66.6666666667%}.push-d-9{margin-left:75%}.push-d-10{margin-left:83.3333333333%}.push-d-11{margin-left:91.6666666667%}.push-d-12{margin-left:100%}.pull-d-0{margin-right:0%}.pull-d-1{margin-right:8.3333333333%}.pull-d-2{margin-right:16.6666666667%}.pull-d-3{margin-right:25%}.pull-d-4{margin-right:33.3333333333%}.pull-d-5{margin-right:41.6666666667%}.pull-d-6{margin-right:50%}.pull-d-7{margin-right:58.3333333333%}.pull-d-8{margin-right:66.6666666667%}.pull-d-9{margin-right:75%}.pull-d-10{margin-right:83.3333333333%}.pull-d-11{margin-right:91.6666666667%}.pull-d-12{margin-right:100%}}@media (max-width: 768px){.col-t-0{width:0%}.col-t-1{width:8.3333333333%}.col-t-2{width:16.6666666667%}.col-t-3{width:25%}.col-t-4{width:33.3333333333%}.col-t-5{width:41.6666666667%}.col-t-6{width:50%}.col-t-7{width:58.3333333333%}.col-t-8{width:66.6666666667%}.col-t-9{width:75%}.col-t-10{width:83.3333333333%}.col-t-11{width:91.6666666667%}.col-t-12{width:100%}.push-t-0{margin-left:0%}.push-t-1{margin-left:8.3333333333%}.push-t-2{margin-left:16.6666666667%}.push-t-3{margin-left:25%}.push-t-4{margin-left:33.3333333333%}.push-t-5{margin-left:41.6666666667%}.push-t-6{margin-left:50%}.push-t-7{margin-left:58.3333333333%}.push-t-8{margin-left:66.6666666667%}.push-t-9{margin-left:75%}.push-t-10{margin-left:83.3333333333%}.push-t-11{margin-left:91.6666666667%}.push-t-12{margin-left:100%}.pull-t-0{margin-right:0%}.pull-t-1{margin-right:8.3333333333%}.pull-t-2{margin-right:16.6666666667%}.pull-t-3{margin-right:25%}.pull-t-4{margin-right:33.3333333333%}.pull-t-5{margin-right:41.6666666667%}.pull-t-6{margin-right:50%}.pull-t-7{margin-right:58.3333333333%}.pull-t-8{margin-right:66.6666666667%}.pull-t-9{margin-right:75%}.pull-t-10{margin-right:83.3333333333%}.pull-t-11{margin-right:91.6666666667%}.pull-t-12{margin-right:100%}}@media (max-width: 576px){.col-m-0{width:0%}.col-m-1{width:8.3333333333%}.col-m-2{width:16.6666666667%}.col-m-3{width:25%}.col-m-4{width:33.3333333333%}.col-m-5{width:41.6666666667%}.col-m-6{width:50%}.col-m-7{width:58.3333333333%}.col-m-8{width:66.6666666667%}.col-m-9{width:75%}.col-m-10{width:83.3333333333%}.col-m-11{width:91.6666666667%}.col-m-12{width:100%}.push-m-0{margin-left:0%}.push-m-1{margin-left:8.3333333333%}.push-m-2{margin-left:16.6666666667%}.push-m-3{margin-left:25%}.push-m-4{margin-left:33.3333333333%}.push-m-5{margin-left:41.6666666667%}.push-m-6{margin-left:50%}.push-m-7{margin-left:58.3333333333%}.push-m-8{margin-left:66.6666666667%}.push-m-9{margin-left:75%}.push-m-10{margin-left:83.3333333333%}.push-m-11{margin-left:91.6666666667%}.push-m-12{margin-left:100%}.pull-m-0{margin-right:0%}.pull-m-1{margin-right:8.3333333333%}.pull-m-2{margin-right:16.6666666667%}.pull-m-3{margin-right:25%}.pull-m-4{margin-right:33.3333333333%}.pull-m-5{margin-right:41.6666666667%}.pull-m-6{margin-right:50%}.pull-m-7{margin-right:58.3333333333%}.pull-m-8{margin-right:66.6666666667%}.pull-m-9{margin-right:75%}.pull-m-10{margin-right:83.3333333333%}.pull-m-11{margin-right:91.6666666667%}.pull-m-12{margin-right:100%}}@media (max-width: 992px){.col-d-0{width:0%}.col-d-1{width:8.3333333333%}.col-d-2{width:16.6666666667%}.col-d-3{width:25%}.col-d-4{width:33.3333333333%}.col-d-5{width:41.6666666667%}.col-d-6{width:50%}.col-d-7{width:58.3333333333%}.col-d-8{width:66.6666666667%}.col-d-9{width:75%}.col-d-10{width:83.3333333333%}.col-d-11{width:91.6666666667%}.col-d-12{width:100%}.push-d-0{margin-left:0%}.push-d-1{margin-left:8.3333333333%}.push-d-2{margin-left:16.6666666667%}.push-d-3{margin-left:25%}.push-d-4{margin-left:33.3333333333%}.push-d-5{margin-left:41.6666666667%}.push-d-6{margin-left:50%}.push-d-7{margin-left:58.3333333333%}.push-d-8{margin-left:66.6666666667%}.push-d-9{margin-left:75%}.push-d-10{margin-left:83.3333333333%}.push-d-11{margin-left:91.6666666667%}.push-d-12{margin-left:100%}.pull-d-0{margin-right:0%}.pull-d-1{margin-right:8.3333333333%}.pull-d-2{margin-right:16.6666666667%}.pull-d-3{margin-right:25%}.pull-d-4{margin-right:33.3333333333%}.pull-d-5{margin-right:41.6666666667%}.pull-d-6{margin-right:50%}.pull-d-7{margin-right:58.3333333333%}.pull-d-8{margin-right:66.6666666667%}.pull-d-9{margin-right:75%}.pull-d-10{margin-right:83.3333333333%}.pull-d-11{margin-right:91.6666666667%}.pull-d-12{margin-right:100%}}@media (max-width: 768px){.col-t-0{width:0%}.col-t-1{width:8.3333333333%}.col-t-2{width:16.6666666667%}.col-t-3{width:25%}.col-t-4{width:33.3333333333%}.col-t-5{width:41.6666666667%}.col-t-6{width:50%}.col-t-7{width:58.3333333333%}.col-t-8{width:66.6666666667%}.col-t-9{width:75%}.col-t-10{width:83.3333333333%}.col-t-11{width:91.6666666667%}.col-t-12{width:100%}.push-t-0{margin-left:0%}.push-t-1{margin-left:8.3333333333%}.push-t-2{margin-left:16.6666666667%}.push-t-3{margin-left:25%}.push-t-4{margin-left:33.3333333333%}.push-t-5{margin-left:41.6666666667%}.push-t-6{margin-left:50%}.push-t-7{margin-left:58.3333333333%}.push-t-8{margin-left:66.6666666667%}.push-t-9{margin-left:75%}.push-t-10{margin-left:83.3333333333%}.push-t-11{margin-left:91.6666666667%}.push-t-12{margin-left:100%}.pull-t-0{margin-right:0%}.pull-t-1{margin-right:8.3333333333%}.pull-t-2{margin-right:16.6666666667%}.pull-t-3{margin-right:25%}.pull-t-4{margin-right:33.3333333333%}.pull-t-5{margin-right:41.6666666667%}.pull-t-6{margin-right:50%}.pull-t-7{margin-right:58.3333333333%}.pull-t-8{margin-right:66.6666666667%}.pull-t-9{margin-right:75%}.pull-t-10{margin-right:83.3333333333%}.pull-t-11{margin-right:91.6666666667%}.pull-t-12{margin-right:100%}}@media (max-width: 576px){.col-m-0{width:0%}.col-m-1{width:8.3333333333%}.col-m-2{width:16.6666666667%}.col-m-3{width:25%}.col-m-4{width:33.3333333333%}.col-m-5{width:41.6666666667%}.col-m-6{width:50%}.col-m-7{width:58.3333333333%}.col-m-8{width:66.6666666667%}.col-m-9{width:75%}.col-m-10{width:83.3333333333%}.col-m-11{width:91.6666666667%}.col-m-12{width:100%}.push-m-0{margin-left:0%}.push-m-1{margin-left:8.3333333333%}.push-m-2{margin-left:16.6666666667%}.push-m-3{margin-left:25%}.push-m-4{margin-left:33.3333333333%}.push-m-5{margin-left:41.6666666667%}.push-m-6{margin-left:50%}.push-m-7{margin-left:58.3333333333%}.push-m-8{margin-left:66.6666666667%}.push-m-9{margin-left:75%}.push-m-10{margin-left:83.3333333333%}.push-m-11{margin-left:91.6666666667%}.push-m-12{margin-left:100%}.pull-m-0{margin-right:0%}.pull-m-1{margin-right:8.3333333333%}.pull-m-2{margin-right:16.6666666667%}.pull-m-3{margin-right:25%}.pull-m-4{margin-right:33.3333333333%}.pull-m-5{margin-right:41.6666666667%}.pull-m-6{margin-right:50%}.pull-m-7{margin-right:58.3333333333%}.pull-m-8{margin-right:66.6666666667%}.pull-m-9{margin-right:75%}.pull-m-10{margin-right:83.3333333333%}.pull-m-11{margin-right:91.6666666667%}.pull-m-12{margin-right:100%}}@media (max-width: 992px){.col-d-0{width:0%}.col-d-1{width:8.3333333333%}.col-d-2{width:16.6666666667%}.col-d-3{width:25%}.col-d-4{width:33.3333333333%}.col-d-5{width:41.6666666667%}.col-d-6{width:50%}.col-d-7{width:58.3333333333%}.col-d-8{width:66.6666666667%}.col-d-9{width:75%}.col-d-10{width:83.3333333333%}.col-d-11{width:91.6666666667%}.col-d-12{width:100%}.push-d-0{margin-left:0%}.push-d-1{margin-left:8.3333333333%}.push-d-2{margin-left:16.6666666667%}.push-d-3{margin-left:25%}.push-d-4{margin-left:33.3333333333%}.push-d-5{margin-left:41.6666666667%}.push-d-6{margin-left:50%}.push-d-7{margin-left:58.3333333333%}.push-d-8{margin-left:66.6666666667%}.push-d-9{margin-left:75%}.push-d-10{margin-left:83.3333333333%}.push-d-11{margin-left:91.6666666667%}.push-d-12{margin-left:100%}.pull-d-0{margin-right:0%}.pull-d-1{margin-right:8.3333333333%}.pull-d-2{margin-right:16.6666666667%}.pull-d-3{margin-right:25%}.pull-d-4{margin-right:33.3333333333%}.pull-d-5{margin-right:41.6666666667%}.pull-d-6{margin-right:50%}.pull-d-7{margin-right:58.3333333333%}.pull-d-8{margin-right:66.6666666667%}.pull-d-9{margin-right:75%}.pull-d-10{margin-right:83.3333333333%}.pull-d-11{margin-right:91.6666666667%}.pull-d-12{margin-right:100%}}@media (max-width: 768px){.col-t-0{width:0%}.col-t-1{width:8.3333333333%}.col-t-2{width:16.6666666667%}.col-t-3{width:25%}.col-t-4{width:33.3333333333%}.col-t-5{width:41.6666666667%}.col-t-6{width:50%}.col-t-7{width:58.3333333333%}.col-t-8{width:66.6666666667%}.col-t-9{width:75%}.col-t-10{width:83.3333333333%}.col-t-11{width:91.6666666667%}.col-t-12{width:100%}.push-t-0{margin-left:0%}.push-t-1{margin-left:8.3333333333%}.push-t-2{margin-left:16.6666666667%}.push-t-3{margin-left:25%}.push-t-4{margin-left:33.3333333333%}.push-t-5{margin-left:41.6666666667%}.push-t-6{margin-left:50%}.push-t-7{margin-left:58.3333333333%}.push-t-8{margin-left:66.6666666667%}.push-t-9{margin-left:75%}.push-t-10{margin-left:83.3333333333%}.push-t-11{margin-left:91.6666666667%}.push-t-12{margin-left:100%}.pull-t-0{margin-right:0%}.pull-t-1{margin-right:8.3333333333%}.pull-t-2{margin-right:16.6666666667%}.pull-t-3{margin-right:25%}.pull-t-4{margin-right:33.3333333333%}.pull-t-5{margin-right:41.6666666667%}.pull-t-6{margin-right:50%}.pull-t-7{margin-right:58.3333333333%}.pull-t-8{margin-right:66.6666666667%}.pull-t-9{margin-right:75%}.pull-t-10{margin-right:83.3333333333%}.pull-t-11{margin-right:91.6666666667%}.pull-t-12{margin-right:100%}}@media (max-width: 576px){.col-m-0{width:0%}.col-m-1{width:8.3333333333%}.col-m-2{width:16.6666666667%}.col-m-3{width:25%}.col-m-4{width:33.3333333333%}.col-m-5{width:41.6666666667%}.col-m-6{width:50%}.col-m-7{width:58.3333333333%}.col-m-8{width:66.6666666667%}.col-m-9{width:75%}.col-m-10{width:83.3333333333%}.col-m-11{width:91.6666666667%}.col-m-12{width:100%}.push-m-0{margin-left:0%}.push-m-1{margin-left:8.3333333333%}.push-m-2{margin-left:16.6666666667%}.push-m-3{margin-left:25%}.push-m-4{margin-left:33.3333333333%}.push-m-5{margin-left:41.6666666667%}.push-m-6{margin-left:50%}.push-m-7{margin-left:58.3333333333%}.push-m-8{margin-left:66.6666666667%}.push-m-9{margin-left:75%}.push-m-10{margin-left:83.3333333333%}.push-m-11{margin-left:91.6666666667%}.push-m-12{margin-left:100%}.pull-m-0{margin-right:0%}.pull-m-1{margin-right:8.3333333333%}.pull-m-2{margin-right:16.6666666667%}.pull-m-3{margin-right:25%}.pull-m-4{margin-right:33.3333333333%}.pull-m-5{margin-right:41.6666666667%}.pull-m-6{margin-right:50%}.pull-m-7{margin-right:58.3333333333%}.pull-m-8{margin-right:66.6666666667%}.pull-m-9{margin-right:75%}.pull-m-10{margin-right:83.3333333333%}.pull-m-11{margin-right:91.6666666667%}.pull-m-12{margin-right:100%}}img[data-action="zoom"]{cursor:pointer;cursor:-webkit-zoom-in;cursor:-moz-zoom-in}.zoom-img,.zoom-img-wrap{position:relative;z-index:666;-webkit-transition:all 300ms;-o-transition:all 300ms;transition:all 300ms}img.zoom-img{cursor:pointer;cursor:-webkit-zoom-out;cursor:-moz-zoom-out}.zoom-overlay{z-index:420;background:#fff;position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;opacity:0;-webkit-transition:opacity 300ms;-o-transition:opacity 300ms;transition:opacity 300ms}.zoom-overlay-open .zoom-overlay{opacity:1}.zoom-overlay-open,.zoom-overlay-transitioning{cursor:default}*,*::after,*::before{box-sizing:border-box}body{font-family:"Roboto",Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;line-height:26px;color:#393e46;background-color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body input,body textarea{border:1px solid #e6eef0;outline:none}body input:focus:required:invalid,body textarea:focus:required:invalid{border-color:#e02f40}body input:required:valid,body textarea:required:valid{border-color:#34a74e}::placeholder{color:#666}*::selection{color:#fff;background-color:#393e46}h1,h2,h3,h4,h5,h6{font-family:"Roboto",Helvetica Neue,Helvetica,Arial,sans-serif;line-height:initial;letter-spacing:0.5px;color:#711}h1{font-size:36px}h2{font-size:28px}h3{font-size:24px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}pre{overflow:auto;padding:15px;margin-bottom:0;font-size:14px;white-space:pre-wrap;word-wrap:break-word;word-break:break-all}img,.zoom-img-wrap{max-width:100%;height:auto;vertical-align:middle}img+em,em.caption{display:block;color:#711;font-style:normal;font-weight:normal;font-size:14px}a{text-decoration:none;color:#c14c4c;transition:all 0.35s}a:hover{color:#a23838}a:active{color:#7c2b2b}hr{display:block;height:1px;margin:40px 0;border:0;background:#e6eef0}.floatright{float:right;margin:20px 20px;border:2px solid #ccc}.floatleft{float:left;margin:20px 20px;border:2px solid #ccc}blockquote{font-family:"Roboto",Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;line-height:26px;color:#393e46;background-color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-style:italic;margin-top:10px;margin-bottom:10px;margin-left:20px;padding-left:15px;border-left:3px solid #ccc}.top{position:fixed;bottom:40px;right:-100px;z-index:1;width:35px;height:35px;text-align:center;line-height:35px;background-color:#393e46;color:#fff;cursor:pointer;transition:all .25s ease}.top.is-active{right:40px}.top:hover{background-color:#000}@media only screen and (max-width: 768px){.top{bottom:25px}.top.is-active{right:30px}}.header{position:relative;height:80px;background-color:#711;background-image:linear-gradient(#c14c4c, #711)}.header .header__overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:10;cursor:pointer;opacity:0;visibility:hidden;transition:all 0.5s ease}@media only screen and (max-width: 992px){.header .header__overlay.is-visible{opacity:1;visibility:visible}}.logo{position:absolute;top:50%;left:5%;transform:translateY(-50%)}.logo .logo__link{font-size:30px;color:#e6eef0;font-family:'Rock Salt', cursive;text-decoration:none}.logo .logo__link:hover{color:#000}.logo .logo__image{max-height:50px}.main-nav{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.main-nav .nav-icon__close{display:none;font-size:24px;text-align:right;cursor:pointer}.main-nav .nav-icon__close:hover{color:#000}.main-nav .nav__title{display:none}.main-nav .nav__list{white-space:nowrap}.main-nav .nav__list .nav__item{display:inline-block}.main-nav .nav__list .nav__item .nav__link{display:inline-block;padding:10px 30px;font-size:14px;font-weight:700;letter-spacing:0.5px;text-transform:uppercase;color:#393e46}.main-nav .nav__list .nav__item .nav__link:hover{color:#000}@media only screen and (max-width: 992px){.main-nav{position:fixed;top:0;left:inherit;right:-300px;bottom:0;transform:none;z-index:100;width:300px;height:100vh;padding:40px 30px 30px;transition:right 0.5s cubic-bezier(0.7, 0.4, 0, 1);background:#fff}.main-nav.is-open{right:0}.main-nav .nav-icon__close{display:block}.main-nav .nav__title{display:block;padding-left:30px;padding-bottom:7px;margin-bottom:10px;color:#bbb;border-bottom:1px solid #e6eef0}.main-nav .nav__list .nav__item{display:block}}.nav-buttons{position:absolute;top:50%;right:0;transform:translateY(-50%);font-size:21px}.nav-buttons .nav__icon{color:#393e46;cursor:pointer}.nav-buttons .nav__icon:hover{color:#000}.nav-buttons .nav__icon-menu{display:none;margin-right:10px}.nav-buttons .nav__icon-menu:hover{color:#000}@media only screen and (max-width: 992px){.nav-buttons .nav__icon-menu{display:inline-block}}.hero{padding:80px 0;margin-bottom:80px;background:#f5f5f5}.hero .last-item{display:flex}.hero .hero__content{display:flex;flex-direction:column;justify-content:center;width:100%;padding:0 40px 0 0}.hero .hero__content .hero__title{font-size:38px;font-weight:normal}.hero .hero__content .hero__subtitle{font-size:18px;line-height:32px;letter-spacing:0.5px}.hero .hero__content .hero__social{display:flex}.hero .hero__content .hero__social-title{font-weight:700}.hero .hero__image img{box-shadow:0 1px 4px rgba(0,0,0,0.15)}@media only screen and (max-width: 992px){.hero .hero__content{padding:0}.hero .hero__content .hero__subtitle{font-size:16px;line-height:28px}}@media only screen and (max-width: 768px){.hero{margin-bottom:40px}.hero .last-item{order:1}.hero .hero__content .hero__title{margin-bottom:20px;font-size:27px}.hero .hero__image{margin-bottom:20px}.hero .hero__image img{box-shadow:none}}@media only screen and (max-width: 576px){.hero{padding:40px 0}}.search{position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1;transform:scale(0.95);opacity:0;background:#fff;transition:all 250ms ease}.search.is-visible{transform:scale(1);z-index:100;opacity:1;transition:all 250ms ease}.search__box{width:50%;margin:0 auto;padding-top:100px}@media only screen and (max-width: 992px){.search__box{width:70%;padding-top:70px}}@media only screen and (max-width: 576px){.search__box{width:100%;padding-top:30px}}.search__group{margin-bottom:50px}.search__group .search__close{margin-bottom:30px;font-size:27px;text-align:right;cursor:pointer}.search__group .search__close:hover{color:#000}.search__group .search__text{width:100%;padding:20px 20px 20px 30px;letter-spacing:0.5px;border-radius:30px;border:1px solid #f8f8f8;color:#393e46;background:#f8f8f8}.search__group .search__text::placeholder{letter-spacing:0.5px;color:rgba(57,62,70,0.7)}.search-results-list{height:65vh;margin:0;padding:0 20px;list-style:decimal;overflow:auto;white-space:normal}.search-results-list .search-results__item{margin-bottom:10px;padding-left:10px;padding-bottom:10px;font-weight:700;border-bottom:1px solid #f5efef}.search-results-list .search-results__item:first-child{padding-top:20px;border-top:1px solid #f5efef}.search-results-list .search-results__link{font-size:18px;font-weight:700;letter-spacing:0.5px;color:#393e46}.search-results-list .search-results__link:hover{color:#000}.search-results-list .search-results__date{font-size:12px;color:#bbb}.search-results-list .no-results{list-style:none;padding:20px 0;font-size:18px;font-weight:700;letter-spacing:0.5px;border-top:1px solid #f5efef;border-bottom:1px solid #f5efef}.contact .contact__list li{margin-left:15px;display:inline-block}.contact .contact__list li a{font-size:18px;color:#bbb}.contact .contact__list li a:hover{color:#393e46}.pagination{margin:20px 0 40px;padding:40px 0;text-align:center}@media only screen and (max-width: 576px){.pagination{margin:0 0 20px}}.pagination__list{display:flex;justify-content:space-between;align-items:center}.pagination__list .next-link,.pagination__list .previous-link,.pagination__list .disabled{display:inline-block;width:140px;height:50px;line-height:50px;font-size:12px;letter-spacing:1px;text-transform:uppercase;transition:all .35s;box-shadow:0 1px 3px 0 rgba(0,0,0,0.15);background:#fff}.pagination__list .next-link,.pagination__list .previous-link{color:#393e46}.pagination__list .next-link:hover,.pagination__list .previous-link:hover{color:#000}.pagination__list .disabled{color:#bbb;cursor:not-allowed}.pagination__list .counter-box a,.pagination__list .counter-box span{padding:0 5px;font-size:15px;color:#393e46}.pagination__list .counter-box .active-link{font-weight:700}@media only screen and (max-width: 576px){.pagination__list{flex-direction:column}.pagination__list .next-link,.pagination__list .previous-link,.pagination__list .disabled{margin:10px 0}}.subscribe{width:430px;max-width:100%;margin:0 auto 80px;text-align:center}.subscribe .subscribe__title{margin-bottom:10px;font-size:37px;line-height:57px}.subscribe .subscribe__subtitle{margin-bottom:30px;font-size:17px;line-height:27px}.subscribe .subscribe-form .subscribe-group{margin-bottom:30px}.subscribe .subscribe-form .subscribe__email{width:100%;padding:17px;font-size:16px;text-align:center;outline:none;border:none;border-bottom:3px solid #e6eef0}.subscribe .subscribe-form .subscribe__email::placeholder{font-size:18px;color:#e6eef0}.subscribe .subscribe-form .subscribe__button{width:127px;height:57px;font-size:14px;font-weight:700;letter-spacing:0.5px;border-radius:30px;border:none;background:#e6eef0;cursor:pointer;transition:all .35s}.subscribe .subscribe-form .subscribe__button:hover{color:#fff;background:#393e46}@media only screen and (max-width: 576px){.subscribe{margin:0 auto 40px}.subscribe .subscribe__subtitle{font-size:16px;line-height:26px}}.instagram-box{position:relative;margin:0 0 80px}.instagram-box .istagram-contact{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);z-index:1;display:block;padding:8px 15px;font-size:14px;letter-spacing:0.5px;border-radius:3px;box-shadow:0 4px 4px 0 rgba(0,0,0,0.15);color:#393e46;background:#fff}.instagram-box .istagram-contact:hover{color:#000}.instagram-box .instagram .instagram-item{width:16.6%;display:inline-block;transition:all .35s}.instagram-box .instagram .instagram-item:hover{opacity:0.9}@media only screen and (max-width: 768px){.instagram-box .instagram .instagram-item{width:33.3%}}@media only screen and (max-width: 576px){.instagram-box{margin:0 0 40px}}.footer{position:relative;padding:80px 0 40px;text-align:center;border-top:1px solid #e6eef0;background:#f5f5f5}.footer .contact{margin-bottom:15px}.footer .copyright a{color:#393e46}.footer .copyright a:hover{color:#c14c4c}@media only screen and (max-width: 576px){.footer{padding:40px 0 20px}}table{font-size:0.9em;color:#333333;border-width:1px;border-color:#666666;border-collapse:collapse}table th{border-width:1px;padding:8px;border-style:solid;border-color:#666666;background-color:#ccc}table td{border-width:1px;padding:8px;border-style:solid;border-color:#666666;background-color:#ffffff}table.redtable{background-color:red}div.test th{color:#711;background-color:#c14c4c}div.test td{background-color:#ccc}.lates-title{position:relative;margin-bottom:80px;font-size:14px;line-height:24px;letter-spacing:1px;text-transform:uppercase;font-weight:normal;text-align:center}.lates-title:after,.lates-title:before{content:"";display:block;position:absolute;top:50%;transform:translateY(-50%);height:1px;background:#e6eef0}.lates-title:after{width:calc(50% - 90px);left:0}.lates-title:before{width:calc(50% - 90px);right:0}@media only screen and (max-width: 768px){.lates-title{margin-bottom:40px}.lates-title:after,.lates-title:before{width:calc(50% - 70px)}}.page-title-box{border-top:1px solid #e6eef0}.page-title-box .page-title{margin-bottom:0px;width:500px;max-width:100%;font-size:30px;line-height:52px;color:#711}@media only screen and (max-width: 576px){.page-title-box{padding:40px 0}.page-title-box .page-title{margin:10px 0;font-size:47px;line-height:53px}}.page__head .page-image{background-size:auto;background-position:center;background-repeat:no-repeat;position:relative}.page__head .page-image:after{content:"";display:table;width:100%;min-height:300px;padding-top:50%}.page{margin:auto;border-radius:3px;background:rgba(255,255,255,0.9);box-shadow:0 1px 4px rgba(0,0,0,0.15);padding:50px}.page img{margin:30px 0}@media only screen and (max-width: 768px){.page{margin:40px auto}}.page-box{text-align:center}.page-box .back-arrow a{display:inline-block;margin-left:10px;color:#393e46;font-weight:700}.page-box .back-arrow a:hover{color:#000}.article{margin-bottom:40px}.article .article__wrapper{display:flex;align-items:center}.article .article__image{width:50%;display:block;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:#e6eef0}.article .article__image:hover{opacity:0.9}.article .article__image:after{content:"";display:table;width:100%;padding-bottom:70%}.article .article__content{width:60%;padding:50px;margin-left:-10%;z-index:1;border-radius:3px;background:rgba(255,255,255,0.9);box-shadow:0 1px 4px rgba(0,0,0,0.15)}.article .article__content .article__tag{font-size:12px;letter-spacing:0.5px;font-weight:700;text-transform:uppercase}.article .article__content .article__title{margin-bottom:20px;font-size:30px}.article .article__content .article__title a{color:#711}.article .article__content .article__title a:hover{color:#c14c4c}.article .article__content .article__excerpt{margin-bottom:20px;font-size:16px;line-height:26px}.article .article__content .article__meta{font-size:12px;line-height:18px;text-transform:uppercase;color:#bbb}.article .article__content .article__footer{display:flex;align-items:center}.article .article__content .article__footer .read-more{margin-left:auto;padding-bottom:5px;font-size:12px;line-height:18px;letter-spacing:1px;text-transform:uppercase;border-bottom:1px solid transparent;color:#bbb}.article .article__content .article__footer .read-more:hover{color:#393e46;border-color:#c14c4c}.article .article-without-image{width:100%;margin-left:auto}@media only screen and (max-width: 768px){.article .article__wrapper{flex-direction:column}.article .article__image{width:100%}.article .article__content{width:90%;padding:20px;margin:-10% 0 0 0}.article .article-without-image{width:90%;margin:0}}@media only screen and (max-width: 576px){.article .article__content .article__title{font-size:27px}}.post-title-box{border-top:1px solid #e6eef0}.post-title-box .post-title{margin-bottom:0px;width:800px;max-width:100%;font-size:30px;line-height:52px;color:#711}.post-title-box .post__date{font-size:12px}@media only screen and (max-width: 576px){.post-title-box{padding:40px 0}.post-title-box .post-title{margin:10px 0;font-size:47px;line-height:53px}}.post__info{display:flex;align-items:center}.post__info .post__author{margin-right:10px;font-weight:700}.post__info .post__author .author-name{color:#bbb;border-bottom:1px solid transparent}.post__info .post__author .author-name:hover{border-bottom:1px solid #bbb}.post__info .post__tags .post__tags-tag{position:relative;padding-left:15px;font-weight:700}.post__info .post__tags .post__tags-tag:before{content:"";position:absolute;top:50%;left:0;transform:translateY(-50%);width:5px;height:5px;border-radius:50%;background:#393e46}.post-image{background-size:auto;background-position:center;background-repeat:no-repeat;position:relative}.post-image:after{content:"";display:table;width:100%;min-height:300px;padding-top:50%}.post{margin:auto;border-radius:3px;background:rgba(255,255,255,0.9);box-shadow:0 1px 4px rgba(0,0,0,0.15);padding:50px}.post.post-no-image{margin:0 auto 80px}@media only screen and (max-width: 576px){.post{margin:40px auto}.post.post-no-image{margin:0 auto 40px}}.post img{margin:30px 0}.post__content{margin-bottom:40px}.post__share{background-position:center;display:flex}.post__share .share__title{margin-right:10px;font-size:18px;font-weight:700;letter-spacing:0.5px}.post__share .share__list .share__item{display:inline-block;margin:0 10px}.post__share .share__list .share__item a{font-size:18px;color:#bbb}.post__share .share__list .share__item a:hover{color:#393e46}.post__navigation{display:flex;align-items:baseline;margin-bottom:80px;padding-bottom:80px;border-bottom:1px solid #e6eef0}.post__navigation .prev,.post__navigation .next{flex:1 0 50%}.post__navigation .prev:last-child,.post__navigation .next:last-child{padding-right:0}.post__navigation .prev .post__nav__image,.post__navigation .next .post__nav__image{display:block;margin-bottom:40px;background-position:center;background-size:auto;background-size:auto;background-repeat:no-repeat;background:#e6eef0;transition:.35s ease-in-out}.post__navigation .prev .post__nav__image:hover,.post__navigation .next .post__nav__image:hover{opacity:0.9}.post__navigation .prev .post__nav__image:after,.post__navigation .next .post__nav__image:after{content:"";display:table;width:100%;padding-bottom:65%}.post__navigation .prev .post__nav__title,.post__navigation .next .post__nav__title{margin-bottom:20px;font-size:16px;line-height:37px;text-transform:uppercase;letter-spacing:2px;text-align:center}.post__navigation .prev .post__nav__title a,.post__navigation .next .post__nav__title a{display:inline-block;max-width:250px;padding:0 10px;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#711}.post__navigation .prev .post__nav__title a:hover,.post__navigation .next .post__nav__title a:hover{color:#c14c4c}.post__navigation .prev{padding-right:10px}.post__navigation .next{padding-left:10px}.post__navigation .prev__excerpt,.post__navigation .next__excerpt{width:100%;max-width:400px;margin:0 auto;text-align:center}@media only screen and (max-width: 768px){.post__navigation{flex-wrap:wrap}.post__navigation .prev,.post__navigation .next{flex:1 0 100%;padding:0}.post__navigation .next{margin-top:40px}}@media only screen and (max-width: 576px){.post__navigation{margin-bottom:40px;padding-bottom:40px}.post__navigation .prev .post__nav__image,.post__navigation .next .post__nav__image{margin-bottom:20px}}.comments{margin-bottom:80px}@media only screen and (max-width: 576px){.comments{margin-bottom:40px}}.arhive-head{padding:20px 0;margin-bottom:10px}.arhive-head .archive-title{text-align:center;font-weight:normal;text-transform:uppercase;color:#c14c4c}.arhive-head .archive-title span{font-weight:700}.arhive-head .tag{margin-bottom:5px;font-weight:bold;color:#c14c4c;text-transform:uppercase}@media only screen and (max-width: 576px){.arhive-head{margin-bottom:10px}}

  </style>

  

</head>


<body>

  <div class="container">
  <div class="row">
    <div class="col col-12">
      <!-- begin header -->
      <header class="header">

        <div class="logo">
          <a class="logo__link" href="/">
            
            Look Think Make
            
          </a>
        </div>

        <nav class="main-nav">

          <div class="main-nav__box">
            <div class="nav-icon__close">
              <i class="ion ion-ios-close-circle-outline"></i>
            </div>

            <div class="nav__title">Menu</div>

            <ul class="nav__list list-reset">
              <li class="nav__item">
                <a href="/" class="nav__link">Home</a>
              </li>
              
              
              
              
              
              
              
              <li class="nav__item">
                <a href="/about/" class="nav__link">About Me</a>
              </li>
              
              
              
              
              
              <li class="nav__item">
                <a href="/all_tags.html" class="nav__link">Tags</a>
              </li>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>

          </div>
        </nav>

        <div class="nav-buttons">
          <i class="nav__icon nav__icon-menu ion ion-md-menu" aria-label="Menu Icon"></i>
          <i class="nav__icon nav__icon-search ion ion-md-search" aria-label="Search Icon"></i>
        </div>

        <div class="header__overlay"></div>
      </header>
      <!-- end header -->
    </div>
  </div>
</div>

  <!-- begin content -->
  <main class="content" aria-label="Content">
    <div class="container">
  <div class="post-title-box">
    <div class="row">
      <div class="col col-10 push-2 col-11 push-t-1 col-m-12 push-m-0">
        <span class="post__date">
          <time datetime="2016-02-28T22:00:00+13:00">Feb 28, 2016</time>
        </span>

        <h1 class="post-title">Generative Art - Sverchok Node Update</h1>

        <div class="post__info">
          <div class="post__author">
            <span>by</span>
            <a href="/about/" class="author-name">elfnor</a>
          </div>

          
          <div class="post__tags">
            
            
            <a href="/tag/blender" class="post__tags-tag">blender</a>
            
            
            
            <a href="/tag/sverchok" class="post__tags-tag">sverchok</a>
            
            
            
            <a href="/tag/structure-synth" class="post__tags-tag">structure-synth</a>
            
            
            
            <a href="/tag/generative-art" class="post__tags-tag">generative-art</a>
            
            
          </div>
          
        </div>
      </div>
    </div>
  </div>

  
  
  <div class="post__head">
    <div class="post-image" style="background-image: url(/images/6_spirals_mesh_render_03_018.png)"></div>
  </div>
  

</div>


<div class="container">
  <div class="row">
    <!-- begin post -->
    <article class="post  col col-8 col-t-10 col-m-12">

      <div class="post__content">
        <p>I've made some changes and improvements to the <em>Generative Art</em> node in Sverchok. This node uses a simple <em>xml</em> file to define a set of rules to produce geometry. This node is very strongly based on <a href="http://structuresynth.sourceforge.net/">Structure Synth</a> and can produce <a href="https://en.wikipedia.org/wiki/L-system">Lindermayer Systems (lsystems)</a> and fractals as well as more random and interesting creations.</p>

<p>The new version is now merged into the Sverchok master branch on <a href="https://github.com/nortikin/sverchok">github</a>.</p>

<p>Visible changes:</p>

<ul>
  <li>variable node inputs are now named according to field name ({myvar}) in xml</li>
  <li>separate named matrix list output for each type of shape in xml</li>
  <li>constants can be defined in xml <constants myconst="1.618"></constants></li>
  <li>updated docs</li>
</ul>

<p>Other:</p>

<p>I've changed the way the system state matrix accumulates when a rule has multiple call statements. This makes translated examples from Structure Synth work as expected. The change also makes the transforms for substitution tilings, fractals and things like the game level generator easier to calculate. This may break some previous xml definition files. I'm working on updating all the examples I've given in previous posts.</p>

<p>I've tested the new <em>Generative Art</em> node by checking it can generate various 2D and 3D fractals and translating some Structure Synth and Context Free Art examples. I'm using these tests to write up some future blog posts which should make a good demonstration of the nodes possibilities.</p>

<p>Here below, for reference is the documentation for the node. This can also be found in the Sverchok directory (<code class="highlighter-rouge">/sverchok/docs/nodes/generator/generative_art.rst</code>) or <a href="http://nikitron.cc.ua/sverch/html/nodes/generator/generative_art.html">online</a></p>

<p>To use:</p>

<ul>
  <li>download and install <a href="https://www.blender.org/">Blender</a></li>
  <li>download the zip file for <a href="https://github.com/nortikin/sverchok">Sverchok</a></li>
  <li>Install Sverchok. In Blender , File &gt; User Preferences &gt; Add-ons &gt; Install from zip and select the Sverchok download</li>
  <li>In a node editor window, select display Sverchok nodes (<img src="/images/sverchok_icon.png" alt="icon" />), and add a new node tree.</li>
  <li>Add a <em>Generative Art</em> node (<em>Add &gt; Generators &gt; Generative Art</em>)</li>
  <li>Add an <em>xml</em> file and other nodes as shown below</li>
</ul>

<h2 id="functionality">Functionality</h2>

<p>This node can be used to produce recursive three dimensional structures following a design specified in a separate xml file. These structures are similar to fractals or lsystems.</p>

<p>The xml file defines a set of transformation rules and instructions to place objects. A simple set of rules can often generate surprising and complex structures.</p>

<h2 id="inputs--parameters">Inputs &amp; Parameters</h2>

<p>This node has the following parameters:</p>

<ul>
  <li><strong>xml file</strong> - Required. This specifies the LSystem design and should be a linked text block in the .blend file.</li>
  <li><strong>r seed</strong> - Integer to initialize python's random number generator. If the design includes a choice of multiple rules, changing this will change the appearance of the design</li>
  <li><strong>max mats</strong> - To avoid long delays or lock ups the output of the node is limited to this number of matrices</li>
</ul>

<p>This node has the following inputs:</p>

<ul>
  <li><strong>Vertices</strong> - Optional. A list of vertices to be joined in a ring and used as the basis for a tube structure. Typically the output of a Circle or NGon node.</li>
  <li><strong>data</strong> - Optional. The xml file can have optional variables defined using {myvar} type format notation. Extra named data inputs are generated for each of these these variables. These variables can be used to control animations.</li>
</ul>

<h2 id="outputs">Outputs</h2>

<ul>
  <li>
    <p><strong>Vertices, Edges and Faces</strong> - If the Vertices input is connected, these outputs will define the mesh of a tube that skins the structure defined in the xml file.</p>
  </li>
  <li>
    <p><strong>Shapes Matrices</strong> - For each <em>shape</em> atribute defined in the xml file a named output will be generated. This output is a list list of matrices that define the structure.</p>
  </li>
</ul>

<h2 id="examples-of-usage">Examples of usage</h2>

<p>A simplified description of the algorithm for the evaluation of a design.</p>

<p>The xml file (see below for examples and descriptions) consist of a set of rules, each rule has a list of instructions, each instruction defines a transform and either a call to a rule or an instruction to place an instance.</p>

<p>The system is implemented by a stack where each item in the stack consists of the next rule to call, the current depth of the system and the current state of the system. At each iteration of the processor the last item is removed from the stack and processed.</p>

<p>Each instruction in the rule removed from the stack is processed in turn. The current state of this system is set to that of the item removed from the stack. Any transform in the instruction is applied to the system state. If the instruction is a call to a rule, a new item is added to the stack with the new rule, the depth increased by one, and the new system state. If the instruction is to place an instance, the matrix representing the new system state is added to the output matrix list for that type of shape. The processor then proceeds to what is now the last item on the stack.</p>

<p>If the max_depth for the current rule is reached or the max_depth for overall design is reached then the processor goes back and processes what is now the last item on the stack without taking any other action. If the stack is empty or the maximum number of matrices has been reached the processor stops.</p>

<p>A simple example of an xml design file:</p>

<p>6 Spirals</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;rules</span> <span class="na">max_depth=</span><span class="s">"150"</span><span class="nt">&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"entry"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">count=</span><span class="s">"3"</span> <span class="na">transforms=</span><span class="s">"rz 120"</span> <span class="na">rule=</span><span class="s">"R1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">count=</span><span class="s">"3"</span> <span class="na">transforms=</span><span class="s">"rz 120"</span> <span class="na">rule=</span><span class="s">"R2"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"R1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tx 2.6 rx 3.14 rz 12 ry 6 sa 0.97"</span> <span class="na">rule=</span><span class="s">"R1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span>  <span class="na">transforms=</span><span class="s">"sa 2.6"</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"R2"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tx -2.6 rz 12 ry 6 sa 0.97"</span> <span class="na">rule=</span><span class="s">"R2"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">transforms=</span><span class="s">"sx 2.6"</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;/rules&gt;</span>
</code></pre></div></div>

<p>This specifies the following design with 6 spirals.</p>

<p><img src="https://cloud.githubusercontent.com/assets/7930130/13376231/cb79f476-de1b-11e5-90e9-845f3c201228.png" alt="6 spiral screen shot with node diagram and text file and structure" /></p>

<p>The xml file consists of a list of rules. There must be at least one rule called entry. This is the starting point for the processor. Each rule consists of a list of instructions. These instructions can either be a call to another rule or an instruction to place an instance of an object.</p>

<p>Calls can be recursive. For the example above the first instruction in rule R1 also calls rule R1. This recursion stops when the max_depth value is reached or the max_mats value set in the node is reached. The max_depth can also be set separately for each rule and is added as an attribute eg <code class="highlighter-rouge">&lt;rule name="R1" max_depth="10"&gt;</code>.</p>

<p>Each of these instructions can be modified with a set of transforms. If the transform is omitted it defaults to the identity transform.</p>

<p>A transform consist of translations, rotations and scaling operations. For example <code class="highlighter-rouge">tx 1.3</code> means translated 1.3 units in the <code class="highlighter-rouge">x</code> direction, <code class="highlighter-rouge">rz 6</code> means rotate 6 degrees about the <code class="highlighter-rouge">z</code> axis and <code class="highlighter-rouge">sa 0.99</code> means scale all axes by 0.99.</p>

<p>The full list of transforms that take one argument : <code class="highlighter-rouge">tx ty tz rx ry rz sx sy sz sa</code><br />
In addition all three axes values for either a translation or scale can be applied at once with a triplet of values.
For example: <code class="highlighter-rouge">t 1.1 2.2 3.3  s 0.9 0.9 0.7</code></p>

<p>Instead of using a single <em>transform</em> attribute, each transform can be specified individually. For example <code class="highlighter-rouge">transforms="tx 1 rz 90 sa 0.75"</code> can be replaced with <code class="highlighter-rouge">tx="1" rz="90" sa="0.75"</code>.</p>

<p>The count attribute specifies how many times that instruction is repeated. if count is omitted it defaults to 1. For example the instruction <code class="highlighter-rouge">&lt;call count="3" transforms="rz 120" rule="R1"/&gt;</code> calls rule <code class="highlighter-rouge">R1</code> applying a 120 degree rotation about <code class="highlighter-rouge">z</code> in between each call.</p>

<p>An instance instruction tells the processor to add a matrix to the output list defining the state of the system at that point. The names used in the shape attribute are used as the names for the node's output sockets. If there is more than one type of shape each will have its own output socket.</p>

<h3 id="multiple-rule-definition-example">Multiple Rule Definition Example</h3>

<p>There can be multiple definitions of the same rule in an xml file.</p>

<p>For example</p>

<p>Tree</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;rules</span> <span class="na">max_depth=</span><span class="s">"100"</span><span class="nt">&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"entry"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span>  <span class="na">rule=</span><span class="s">"spiral"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"spiral"</span> <span class="na">weight=</span><span class="s">"100"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tz 0.1 rx 1 sa 0.995"</span> <span class="na">rule=</span><span class="s">"spiral"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">transforms=</span><span class="s">"s 0.1 0.1 0.15"</span> <span class="na">shape=</span><span class="s">"tubey"</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/rule&gt;</span>
 <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"spiral"</span> <span class="na">weight=</span><span class="s">"100"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tz 0.1 rx 1 ry 4 sa 0.995"</span> <span class="na">rule=</span><span class="s">"spiral"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">transforms=</span><span class="s">"s 0.1 0.1 0.15"</span> <span class="na">shape=</span><span class="s">"tubey"</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/rule&gt;</span>
 <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"spiral"</span> <span class="na">weight=</span><span class="s">"100"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tz 0.1 rx 1 rz -4 sa 0.995"</span> <span class="na">rule=</span><span class="s">"spiral"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">transforms=</span><span class="s">"s 0.1 0.1 0.15"</span> <span class="na">shape=</span><span class="s">"tubey"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"spiral"</span> <span class="na">weight=</span><span class="s">"20"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx 15"</span> <span class="na">rule=</span><span class="s">"spiral"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rz 180"</span> <span class="na">rule=</span><span class="s">"spiral"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;/rules&gt;</span>
</code></pre></div></div>

<p><img src="https://cloud.githubusercontent.com/assets/7930130/7782285/25164a80-0162-11e5-9feb-32c4f3908f1e.png" alt="tree structure image" /></p>

<p>In the above xml file there are four definitions of the <code class="highlighter-rouge">spiral</code> rule. Each rule version has a weight attribute. The processor will call each version of the <code class="highlighter-rouge">spiral</code> rule in a random manner. The weight attribute will determine the probability a particular rule version is called.</p>

<p>The first three definitions of the <code class="highlighter-rouge">spiral</code> rule all place an object instance and then call the <code class="highlighter-rouge">spiral</code> rule with the same translation along the <code class="highlighter-rouge">z</code> axis and rotation about the <code class="highlighter-rouge">x</code> axis but different amounts of rotation about the <code class="highlighter-rouge">y</code> and <code class="highlighter-rouge">z</code> axis. The fourth definition calls the <code class="highlighter-rouge">spiral</code> rule twice without placing an instance. This causes the branches in the tree structure. Changing the value of the weight attribute for this rule version will change how often the tree branches. For a larger weight value, the rule gets called more often and there are more branches.</p>

<p>If the weight attribute is omitted each version will have equal weight. Changing the value of <code class="highlighter-rouge">r seed</code> in the node interface will change the generated structure for xml files with multiple rule definitions. This example had rseed = 1.</p>

<h3 id="successor-rule-example">Successor Rule Example</h3>

<p>Normally when the <code class="highlighter-rouge">max_depth</code> for a rule is reached that 'arm' of the structure is finished. If a rule defines a successor rule then this rule will be called when the <code class="highlighter-rouge">max_depth</code> is reached. In the following example when the <code class="highlighter-rouge">y180</code> rule gets called it will be called 90 times in succession and produce a 180 degree turn about the y axis. When it finishes the successor rule <code class="highlighter-rouge">r</code> will be called and either produce a 180 degree turn about the <code class="highlighter-rouge">y</code> axis or the <code class="highlighter-rouge">z</code> axis.</p>

<p>Nouveau variation</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;rules</span> <span class="na">max_depth=</span><span class="s">"1000"</span><span class="nt">&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"entry"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">count=</span><span class="s">"2"</span> <span class="na">transforms=</span><span class="s">"rz 60"</span> <span class="na">rule=</span><span class="s">"r"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"r"</span><span class="nt">&gt;&lt;call</span> <span class="na">rule=</span><span class="s">"y180"</span><span class="nt">/&gt;&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"r"</span><span class="nt">&gt;&lt;call</span> <span class="na">rule=</span><span class="s">"z180"</span><span class="nt">/&gt;&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"y180"</span> <span class="na">max_depth=</span><span class="s">"90"</span> <span class="na">successor=</span><span class="s">"r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">rule=</span><span class="s">"dbox"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"ry -2 tx 0.1 sa 0.996"</span> <span class="na">rule=</span><span class="s">"y180"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"z180"</span> <span class="na">max_depth=</span><span class="s">"90"</span> <span class="na">successor=</span><span class="s">"r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">rule=</span><span class="s">"dbox"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rz 2 tx 0.1 sa 0.996"</span> <span class="na">rule=</span><span class="s">"z180"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"dbox"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">transforms=</span><span class="s">"s 0.55 2.0 1.25 ry 90 rz 45"</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;/rules&gt;</span>
</code></pre></div></div>

<p><img src="https://cloud.githubusercontent.com/assets/7930130/7629793/cb2d4a30-fa83-11e4-8c75-2fa6488f65fe.png" alt="nouveau variation structure" /></p>

<p>This example needs "max matrices" set to 5000 to get the above result.</p>

<h3 id="mesh-mode-example">Mesh Mode Example</h3>

<p>Using the matrices output allows a separate object to be placed at each location. The vertices input and the mesh (vertices, edges, faces) output "skins" the mesh into a much smaller number of objects. The vertices input should be a list of vertices such as that generated by the "Circle" node or "NGon" node. It could also be a circle type object taking from the scene using the "Objects In" node. The list of vertices should be in order so they can be made into a ring with the last vertex joined to the first. That ring dosen't have to be planar.</p>

<p><img src="https://cloud.githubusercontent.com/assets/7930130/13376232/d20249ce-de1b-11e5-968d-727f0038305e.png" alt="node and result picture for 6 spiral in mesh mode" /></p>

<p>The output will not always be one mesh. If the rule set ends one 'arm' and goes back to start another 'arm' these two sub-parts will be separate meshes. Sometimes the mesh does not turn out how you would like. This can often be fixed by changing the rule set.</p>

<p>Often a mesh tube will turn out flat rather than being tube like. This can usually be fixed by either rotating the vertex ring in the scene or by adding a rotation transform to the "instance" commands in the rule set.</p>

<p>For example change <code class="highlighter-rouge">&lt;instance shape="s1"/&gt;</code> to <code class="highlighter-rouge">&lt;instance transforms="ry 90" shape="s1"/&gt;</code></p>

<p>In other cases the mesh can be connected in the wrong order.</p>

<p>For example the following two xml files will look the same when the matrix output is used to place objects, but have different output when they are used in mesh mode. Both sets of xml rules produce the same list of matrices just in a different order.</p>

<p>Fern 1</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;rules</span> <span class="na">max_depth=</span><span class="s">"2000"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"entry"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span>  <span class="na">rule=</span><span class="s">"curl"</span> <span class="nt">/&gt;</span>      
    <span class="nt">&lt;/rule&gt;</span>
    
    <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curl"</span> <span class="na">max_depth=</span><span class="s">"80"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx 12.5 tz 0.9 s 0.98 0.95 1.0"</span> <span class="na">rule=</span><span class="s">"curl"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>       
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tx 0.1 ty -0.45 ry 40 sa 0.25"</span> <span class="na">rule=</span><span class="s">"curlsmall"</span> <span class="nt">/&gt;</span>  
    <span class="nt">&lt;/rule&gt;</span>
    
    <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curlsmall"</span> <span class="na">max_depth=</span><span class="s">"80"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx 25 tz 1.2 s 0.9 0.9 1.0"</span> <span class="na">rule=</span><span class="s">"curlsmall"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>     
    <span class="nt">&lt;/rule&gt;</span>
    
<span class="nt">&lt;/rules&gt;</span>
</code></pre></div></div>

<p><img src="https://cloud.githubusercontent.com/assets/7930130/7629779/b6553802-fa83-11e4-8390-aa9ba2a0c44d.png" alt="image fern wrong" /></p>

<p>Fern 2</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;rules</span> <span class="na">max_depth=</span><span class="s">"2000"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"entry"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span>  <span class="na">rule=</span><span class="s">"curl1"</span> <span class="nt">/&gt;</span>  
    <span class="nt">&lt;call</span>  <span class="na">rule=</span><span class="s">"curl2"</span> <span class="nt">/&gt;</span>      
<span class="nt">&lt;/rule&gt;</span>
    
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curl1"</span> <span class="na">max_depth=</span><span class="s">"80"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx 12.5 tz 0.9 s 0.98 0.95 1.0"</span> <span class="na">rule=</span><span class="s">"curl1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>        
<span class="nt">&lt;/rule&gt;</span>
        
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curl2"</span> <span class="na">max_depth=</span><span class="s">"80"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx 12.5 tz 0.9 s 0.95 0.95 1.0"</span> <span class="na">rule=</span><span class="s">"curl2"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tx 0.1 ty -0.45 ry 40 sa 0.25"</span> <span class="na">rule=</span><span class="s">"curlsmall"</span> <span class="nt">/&gt;</span>     
<span class="nt">&lt;/rule&gt;</span>    
        
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curlsmall"</span> <span class="na">max_depth=</span><span class="s">"80"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx 25 tz 1.2 s 0.9 0.9 1.0"</span> <span class="na">rule=</span><span class="s">"curlsmall"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>     
<span class="nt">&lt;/rule&gt;</span>    
<span class="nt">&lt;/rules&gt;</span>
</code></pre></div></div>

<p><img src="https://cloud.githubusercontent.com/assets/7930130/7629783/bbe99588-fa83-11e4-8d70-92cc2909675e.png" alt="image fern right" /></p>

<p>Again these were both done with max mats set to 5000.</p>

<h3 id="constants-and-variables-example">Constants and Variables Example</h3>

<p>Constants and variables can be included in the xml file by replacing a numerical value with a pair of braces.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    transforms = "tx 0.5 rx 20 sa 0.9"
</code></pre></div></div>

<p>becomes</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    transforms = "tx {x_const} rx 20 sa 0.9"
</code></pre></div></div>

<p>Constants are defined within the xml as follows:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;constants</span>  <span class="na">x_const=</span><span class="s">"0.5"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>Multiple constants can be defined within one element and several <em>constants</em> elements can be used as required in the xml file.</p>

<p>If a field name in between curly brackets is not given a value in a <em>constants</em> element then a named input socket will be added to the node. A <em>Float</em>, <em>Integer</em> or similar node input can be wired up to this input variable.</p>

<p>The example below uses a variable ({curl_angle}) to animate the amount of curl on the fern structure shown in the mesh mode example and two constants to fix the the value of the <code class="highlighter-rouge">tz</code> transform in the large curl and the scale ({sxy}) in all the curls.</p>

<p>Fern 3</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;rules</span> <span class="na">max_depth=</span><span class="s">"2000"</span><span class="nt">&gt;</span>
<span class="nt">&lt;constants</span> <span class="na">zd=</span><span class="s">"1.5"</span> <span class="na">sxy=</span><span class="s">"0.9"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"entry"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;call</span>  <span class="na">rule=</span><span class="s">"curl1"</span> <span class="nt">/&gt;</span>  
   <span class="nt">&lt;call</span>  <span class="na">rule=</span><span class="s">"curl2"</span> <span class="nt">/&gt;</span>      
<span class="nt">&lt;/rule&gt;</span>

<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curl1"</span> <span class="na">max_depth=</span><span class="s">"60"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx {curl_angle} tz {zd} s {sxy} {sxy} 1.0"</span> <span class="na">rule=</span><span class="s">"curl1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>        
<span class="nt">&lt;/rule&gt;</span>

<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curl2"</span> <span class="na">max_depth=</span><span class="s">"40"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx {curl_angle} tz {zd} s {sxy} {sxy} 1.0"</span> <span class="na">rule=</span><span class="s">"curl2"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tx 0.1 ty -0.45 ry 40 sa 0.25"</span> <span class="na">rule=</span><span class="s">"curlsmall"</span> <span class="nt">/&gt;</span>     
<span class="nt">&lt;/rule&gt;</span>    

<span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">"curlsmall"</span> <span class="na">max_depth=</span><span class="s">"40"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"rx 2*{curl_angle} tz 2.7 s {sxy} {sxy} 1.0"</span> <span class="na">rule=</span><span class="s">"curlsmall"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;instance</span> <span class="na">shape=</span><span class="s">"box"</span><span class="nt">/&gt;</span>     
<span class="nt">&lt;/rule&gt;</span>    
<span class="nt">&lt;/rules&gt;</span> 
</code></pre></div></div>

<p><img src="https://cloud.githubusercontent.com/assets/7930130/13376233/d7303744-de1b-11e5-8c91-1d56f412b27d.png" alt="image fern animation" /></p>

<p>For this animation the index number of the current frame in the animation is translated from the range 1 to 250 to the range 16 to 6 via the "Map Range" node and wired into the <code class="highlighter-rouge">curl_angle</code> input of the "Generative Art" node. This cause the fern to unwind as the animation proceeds.</p>

<p>Simple maths can also be use in the transforms definition. This has been used above in the <code class="highlighter-rouge">curlsmall</code> rule. The <code class="highlighter-rouge">rx</code> rotation of the transform will always be twice that of the <code class="highlighter-rouge">rx</code> rotation in the <code class="highlighter-rouge">curl1</code> and <code class="highlighter-rouge">curl2</code> rules. There cannot be any spaces in any maths expressions for the rotation, translation or scale parameters when using a single transforms attribute string. To allow for more complicated expressions each transform can be separated out into its own attribute.</p>

<p>transforms as single attribute (no spaces allowed in maths expression)</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;call</span> <span class="na">transforms=</span><span class="s">"tx 1 rz -1*{v1} ry {v2}"</span> <span class="na">rule=</span><span class="s">"R1"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<p>each transform with its own attribute (can have spaces)</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;call</span> <span class="na">tx=</span><span class="s">"1"</span> <span class="na">rz=</span><span class="s">"-1 * {v1}"</span> <span class="na">ry=</span><span class="s">"{v2}"</span> <span class="na">rule=</span><span class="s">"R1"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<p>All this is implemented by first using python's string <code class="highlighter-rouge">format</code> method to substitute in the variable value from the node data input. Then the resulting string is passed to python's <code class="highlighter-rouge">eval()</code> function. The string must evaluate to a single number (float or integer). Using <code class="highlighter-rouge">eval()</code> is a potential security problem as in theory someone could put some malicious code inside an xml lsystem definition. As always don't run code from a source you don't trust.</p>

<p>The python <code class="highlighter-rouge">math</code> and <code class="highlighter-rouge">random</code> modules exist in the namespace of the "Generative Art" node so for example a transform could be defined as:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    tx="2**0.5"
</code></pre></div></div>

<p>or:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    tx="math.sqrt(2)"
</code></pre></div></div>

<p>Only the transforms that take a single number that is <code class="highlighter-rouge">tx, ty, tz, rx, ry, rz, sx, sy, sz</code> and <code class="highlighter-rouge">sa</code> have been implemented using individual attributes. The ones that use triplets to specify all three translations or scales at once (<code class="highlighter-rouge">t</code> and <code class="highlighter-rouge">s</code>) can only be used in a transform string.</p>

<h3 id="references">References</h3>

<p>This node is closely based on <a href="http://structuresynth.sourceforge.net/">Structure Synth</a> but the xml design format and most of the code originally comes from <a href="http://prideout.net/">Philip Rideout's</a> <a href="https://github.com/prideout/lsystem">lsystem</a> repository on github.</p>

<hr />

      </div>


    </article>
    <!-- end post -->
  </div>
</div>

<div class="container">
  <div class="post__navigation">
    
    <div class="prev">
      <a class="post__nav__image" href="/2016/01/29/maze_mesh/"
        style="background-image: url(/images/maze_mesh_mobius.png)"></a>
      <h2 class="post__nav__title">
        <i class="ion ion-md-arrow-back"></i>
        <a href="/2016/01/29/maze_mesh/">Maze any Mesh in Blender</a>
      </h2>
      <p class="prev__excerpt">
        
        

The grid of cells and list of links used as the data structure for 2D mazes by Jamis Buck's in his book "...
        
      </p>
    </div>
    

    
    <div class="next">
      <a class="post__nav__image" href="/2016/03/27/lsystem_2d_fractal/"
        style="background-image: url(/images/koch_vase_render_01_003.png)">
      </a>
      <h2 class="post__nav__title">
        <a href="/2016/03/27/lsystem_2d_fractal/">Generative Art Examples - Fractals on a Plane</a>
        <i class="ion ion-md-arrow-forward"></i>
      </h2>
      <p class="next__excerpt">
        
        

This post is hopefully the first in a series of examples and demos for the *Generative Art* node for the ...
        
      </p>
    </div>
    
  </div>


</div>
  </main>
  <!-- end content -->

  <div class="top ion ion-ios-arrow-up" title="Top"></div>

  <!-- begin search -->
<div class="search">
  <div class="container">
    <div class="row">
      <div class="col col-12">
        <div class="search__box">
          <div class="search__group">
            <div class="search__close">
              <i class="ion ion-ios-close-circle-outline"></i>
            </div>
            <label for="js-search-input" class="screen-reader-text">Search for Blog</label>
            <input type="text" id="js-search-input" class="search__text" autocomplete="off" placeholder="Type to search">
          </div>
          <ul id="js-results-container" class="search-results-list"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end search -->

  <!-- begin footer -->
<footer class="footer">
  <div class="container">


    <div class="copyright">Copyright &copy; 2021 <a href="/">elfnor</a>  All rights reserved. Powered by <a href="https://jekyllrb.com/">Jekyll</a>.</div>
</div>
</footer>
<!-- end footer -->


  <script src="/js/vendors/jquery-3.3.1.min.js"></script>
<script src="/js/vendors/simple-jekyll-search.min.js"></script>
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById("js-search-input"),
    resultsContainer: document.getElementById("js-results-container"),
    json: "/search.json",
    searchResultTemplate: '<li class="search-results__item"><a class="search-results__link" href="{url}">{title}</a><br> <span class="search-results__date">{date}</span></li>',
    noResultsText: '<li class="no-results">No results found</li>'
  });
</script>
<script src="/js/vendors/transition.js"></script>
<script src="/js/vendors/zoom.min.js"></script>
<script src="/js/vendors/jquery.fitvids.js"></script>
<script src="/js/common.js"></script>
<script data-goatcounter="https://elfnor.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>

</html>
